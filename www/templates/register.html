{% extends '__base__.html' %}

{% block beforehead %}
<script>
        $(function() {
            
            // var a = $.post("/api/signup", JSON.stringify({a:"123",b:"213"})).done(function(data){
            //                 alert(JSON.stringify(data));
            //             });
            var vm = new Vue({   
                delimiters: ["[[", "]]"],
                el: '#vm',
                data: {
                    username: '',
                    passwd: '',
                    re_passwd: '',
                    email: '',
                    birth_year: '',
                    gender: ''
                },
                methods: {
                    submit: function() {
                        alert(JSON.stringify(this.$data));
                        $.post("/api/signup", JSON.stringify(this.$data)).done(function(data2){
                            // alert(JSON.stringify(data2));
                            //   alert("data2:"+JSON.stringify(data2));
                            //  alert("vmdata"+JSON.stringify(vm.$data));
                            // alert(JSON.stringify(test));
                            // alert(JSON.stringify(vm.$test1));
                            // vm.$data = data2;
                            // this.test2 = JSON.stringify(data.test2);
                            location.href = '/login';
                        });
                       
                    }
                }
            });
            // $('#vm').show();
        });
        
        </script>
{% endblock %}

{% block content %}

<section uk-grid class="uk-child-width-1-3@m">
    <div></div>
    <form id="vm" v-on:submit="submit" class="uk-margin" >
        <div><dt class="uk-text-small">Sign up to continue</dt></div>
        <div class="uk-margin">
        <div class="uk-inline">
            <span :uk-icon="'user'" class="uk-form-icon"></span>
            <input v-model="username" class="uk-input uk-form-small uk-width-large" type="username" placeholder="Create your username" name="username" required>
        </div>
        </div>

        <div class="uk-margin">
        <div class="uk-inline">
                <span :uk-icon="'lock'" class="uk-form-icon" ></span>
                <input v-model="passwd" class="uk-input uk-form-small uk-width-large" type="password"  placeholder="Create your new password" name="new-password" required>
        </div>
        </div>

        <div class="uk-margin">
        <div class="uk-inline">
                <span :uk-icon="'lock'" class="uk-form-icon"></span>
                <input v-model="re_passwd" class="uk-input uk-form-small uk-width-large" type="password"  placeholder="Repeat your new password" name="re-password" required>
        </div>
        </div>

        <div class="uk-margin">
        <div class="uk-inline">
                <span :uk-icon="'mail'" class="uk-form-icon" ></span>
                <input v-model="email" class="uk-input uk-form-small uk-width-large" type="email"  placeholder="Fill your Email address" name="email">
        </div>
        </div>

        <div class="uk-margin">
            <select v-model="birth_year" class="uk-select uk-form-small uk-width-large" name="birth-select" onmousedown="this.size=7" onchange="this.size=0">
                <option value="">-- The year of your birth --</option>
                <option value="2000">2000</option><option value="1999">1999</option><option value="1998">1998</option><option value="1997">1997</option><option value="1996">1996</option><option value="1995">1995</option><option value="1994">1994</option><option value="1993">1993</option><option value="1992">1992</option><option value="1991">1991</option><option value="1990">1990</option>
                <option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option>
                <option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option>
                <option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option>
                <option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option>
            </select>                 
        </div>

        <div class="radio-group uk-margin-remove-left uk-margin-bottom" >
            <!-- <div class="uk-form-label">Radio</div> -->
                <input id="gender-fe" v-model="gender" value="Female" class="uk-radio" type="radio" name="gender">
                <label for="gender-fe" style="padding: 3px 20px">Female</label>
                <input id="gender-ma" v-model="gender" value="Male" class="uk-radio" type="radio" name="gender">
                <label for="gender-ma" style="padding: 3px 25px">Male</label>
        </div>

        <div class="uk-text-center">
            <button type="submit" class="uk-button uk-button-primary">Sign up</button>
        </div>
            <!-- <button value="login">Login</button> -->
        <div class="uk-text-center">
            <span class="uk-text-small">Already have an account? >></span>
            <a href="/login"><span class="uk-text-small">Log in</span></a>
            <!-- <button value="login">Login</button> -->
        </div>
    </form>
    <div></div>
</section>
{% endblock %}